{"version":3,"sources":["sorters/sorter.ts","types.ts","components/back-to-item-entry.tsx","stages/redirect-if-no-items.tsx","components/progress-bar.tsx","sorters/quicksort.ts","components/item-input.tsx","stages/sort.tsx","components/option-prompt-buttons.tsx","sorters/binary-insertion-sort.ts","sorters/insertion-sort.ts","context.ts","components/footer.tsx","stages/algorithm-select.tsx","stages/home.tsx","components/question-input.tsx","stages/item-entry.tsx","stages/results.tsx","stages/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Sorter","items","triggerPrompt","progress","updateProgress","i","j","this","item1","item2","item3","prompt","Promise","res","resolve","itemsEqual","left","right","undefined","text","required","weight","BackToItemEntry","className","props","to","classnames","icon","faAngleLeft","RedirectIfNoItems","context","length","redirectIfNoAlg","algorithm","children","PureComponent","contextType","Context","ProgressBar","value","max","isNumberProps","filter","p","striped","Quicksort","Array","fill","qs","low","high","partition","pIdx","pivots","slice","createPrompt","promise","mid","idx","indexOf","console","warn","swap","pivot","item","result","itemRegex","ItemInput","inputRef","React","createRef","state","saved","error","autosize","canResize","saveTimeout","setState","stringifyItems","validate","input","current","offset","offsetHeight","clientHeight","setImmediate","style","height","scrollHeight","window","ResizeObserver","observer","disconnect","observe","split","trim","map","line","exec","parseInt","clearTimeout","updateItems","parseItems","event","target","nextState","setTimeout","onChange","join","messageStyle","color","onBlur","bind","ref","minHeight","resize","Sort","promptCount","sorter","algorithmName","bodyElement","document","getElementsByTagName","triggerPromptUser","onKeyPress","cancel","Algorithm","quicksort","binaryInsertion","insertionSort","BinaryInsertionSort","InsertionSort","run","then","history","replace","addEventListener","removeEventListener","classList","remove","add","isArray","lastLeftItem","flash","e","key","i3","question","onClick","Math","round","withRouter","OptionPromptButtons","opt1","opt2","opt3","OptBtn","opt","xs","md","lg","fontSize","curItem","curIdx","splice","binarySearch","min","floor","sortedItem","StorageKeys","createContext","setAlgorithm","setQuestion","Footer","Navbar","fixed","href","AlgorithmSelect","AlgCard","alg","url","name","pros","cons","inverse","Card","CardHeader","CardTitle","CardBody","onSelection","faAngleRight","size","CardDeck","Home","marginTop","marginBottom","compressor","minFontSize","QuestionInput","Input","type","placeholder","DataEntry","hasItems","l","onInputChange","onQuestionChange","Button","disabled","id","Results","ListGroup","ListGroupItem","Stages","exact","path","App","getItemsFromStorage","localStorage","getItem","data","JSON","parse","setItem","stringify","Provider","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e5c654f8.chunk.js","sourcesContent":["import { Item, Prompt } from '../types';\n\nexport type TriggerPrompt = (prompt: Prompt) => void;\nexport type Progress<T extends number | Item> = T extends number ? T : (T | false)[];\nexport type UpdateProgress<T extends number | Item> = (progress: Progress<T>) => void;\n\nexport default abstract class Sorter<TProgress extends Item | number> {\n  constructor(\n    public items: Item[],\n    protected triggerPrompt: TriggerPrompt,\n    protected progress: Progress<TProgress>,\n    protected updateProgress?: UpdateProgress<TProgress>)\n  {\n  }\n\n  abstract async run(): Promise<void>;\n\n  abstract cancel(): void;\n\n  protected swap(i: number, j: number): void {\n    [this.items[i], this.items[j]] = [this.items[j], this.items[i]];\n  }\n\n  static createPrompt(item1: Item, item2: Item, item3?: Item): [Promise<Item>, Prompt] {\n    const prompt = <Partial<Prompt>>{\n        item1,\n        item2,\n        item3\n      },\n      promise = new Promise<Item>(res => prompt.resolve = res);\n\n    return [promise, <Prompt>prompt];\n  }\n}","import Context from './context';\n\nexport {};\n\ndeclare global {\n  type CT = React.ContextType<typeof Context>;\n}\n\nexport interface Item {\n  text: string;\n  weight?: number;\n  required?: boolean;\n}\n\nexport interface Prompt {\n  resolve: (item: Item) => void,\n  item1: Item;\n  item2: Item;\n  item3?: Item;\n}\n\nexport function itemsEqual(left: Item | null | undefined, right: Item | null | undefined) {\n  if ((left === null || right === null || left === undefined || right === undefined)) {\n    return left === right;\n  }\n\n  return left.text === right.text && left.required === right.required && left.weight === right.weight;\n}","import React, { AnchorHTMLAttributes, FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAngleLeft } from '@fortawesome/free-solid-svg-icons';\nimport classnames from 'classnames';\n\nconst BackToItemEntry: FC<AnchorHTMLAttributes<HTMLAnchorElement>> = ({ className, ...props }) =>\n  <Link to=\"/data-entry\" className={classnames('btn btn-secondary', className)} {...props}>\n    <FontAwesomeIcon icon={faAngleLeft} /> Back to Item Entry\n  </Link>\n\nexport default BackToItemEntry;","import React, { PureComponent } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Context from '../context';\n\ninterface Props {\n  redirectIfNoAlg?: boolean;\n}\n\nexport default class RedirectIfNoItems extends PureComponent<Props> {\n  context!: CT;\n\n  render() {\n    if (this.context.items.length < 3) {\n      return <Redirect to=\"/data-entry\" />;\n    }\n\n    if (this.props.redirectIfNoAlg && !this.context.algorithm) {\n      return <Redirect to=\"/algorithm\" />;\n    }\n\n    return <>{this.props.children}</>;\n  }\n\n  static contextType = Context;\n}","import React, { FC } from 'react';\nimport { Progress } from 'reactstrap';\nimport { Item } from '../types';\n\ninterface ItemProps {\n  progress: (Item | false)[];\n}\n\ninterface NumberProps {\n  progress: number;\n  max: number;\n}\n\nfunction isNumberProps(props: ItemProps | NumberProps): props is NumberProps {\n  return typeof props.progress === 'number';\n}\n\nconst ProgressBar: FC<ItemProps | NumberProps> = (props) => {\n  let value: number,\n    max: number;\n\n  if (isNumberProps(props)) {\n    value = props.progress;\n    max = props.max;\n  } else {\n    value = props.progress.filter(p => p !== false).length;\n    max = props.progress.length;\n  }\n\n  return <Progress value={value} striped max={max} />;\n}\n\nexport default ProgressBar;","import { Item, itemsEqual } from '../types';\nimport Sorter, { TriggerPrompt, UpdateProgress } from './sorter';\n\nexport default class Quicksort extends Sorter<Item> {\n  constructor(items: Item[], triggerPrompt: TriggerPrompt, updateProgress?: UpdateProgress<Item>) {\n    super(items, triggerPrompt, new Array(items.length).fill(false), updateProgress);\n  }\n\n  async run() {\n    if (this.updateProgress) {\n      this.updateProgress(this.progress);\n    }\n\n    return this.qs(0, this.items.length - 1);\n  }\n\n  cancel() {\n    // pass\n  }\n\n  private async qs(low: number, high: number): Promise<void> {\n    if (low < high) {\n      const pIdx = await this.partition(low, high);\n      this.progress[pIdx] = this.items[pIdx];\n      if (this.updateProgress) {\n        this.updateProgress(this.progress);\n      }\n\n      await this.qs(low, pIdx - 1);\n      await this.qs(pIdx + 1, high);\n    }\n  }\n\n  private async partition(low: number, high: number): Promise<number> {\n    if (high - low > 5) {\n      // find middle pivot\n      const pivots = this.items.slice(high - 2).filter(i => !i.required);\n\n      if (pivots.length > 1) {\n        const [promise, prompt] = Sorter.createPrompt(...pivots as [Item, Item, Item?]);\n        this.triggerPrompt(prompt);\n        const mid = await promise,\n          idx = this.items.indexOf(mid);\n\n        // idx should never be -1, but just in case\n        if (idx === -1) {\n          console.warn(`Did not find item ${mid.text}`);\n        } else {\n          this.swap(idx, high);\n        }\n      }\n    }\n\n    const pivot = this.items[high];\n    if (pivot.required) {\n      this.swap(low, high);\n      return low;\n    }\n\n    let i = low;\n    for (let j = low; j < high; j++) {\n      const item = this.items[j];\n\n      if (item.required && !pivot.required) {\n        this.swap(i, j);\n        i++;\n        continue;\n      }\n\n      const [promise, prompt] = Sorter.createPrompt(pivot, item)\n      this.triggerPrompt(prompt);\n      const result = await promise;\n\n      if (itemsEqual(result, item)) {\n        this.swap(i, j);\n        i++;\n      }\n    }\n\n    this.swap(i, high);\n    return i;\n  }\n}","import React, { ChangeEvent, PureComponent } from 'react';\nimport Context from '../context';\nimport { Item } from '../types';\n\nconst itemRegex = /^\\s*(\\*)?\\s*(.+?)\\s*(?:\\|\\s*(\\d+))?\\s*$/;\n\ninterface Props {\n  onChange?: React.TextareaHTMLAttributes<HTMLTextAreaElement>['onChange'];\n}\n\ninterface State {\n  text: string;\n  saved: boolean;\n  error: string | null;\n  autosize: boolean;\n  canResize: boolean;\n}\n\ndeclare global {\n  interface Window {\n    ResizeObserver: ResizeObserver;\n  }\n}\n\nexport default class ItemInput extends PureComponent<Props, State> {\n  private inputRef = React.createRef<HTMLTextAreaElement>();\n  context!: React.ContextType<typeof Context>;\n  state: State = {\n    text: '',\n    saved: false,\n    error: null,\n    autosize: true,\n    canResize: true,\n  };\n\n  private saveTimeout = -1;\n\n  componentDidMount() {\n    this.setState({ text: this.stringifyItems() });\n    this.validate();\n    const input = this.inputRef.current!,\n      offset = input.offsetHeight - input.clientHeight;\n    setImmediate(() => input.style.height = input.scrollHeight + offset + 'px');\n\n    if (window.ResizeObserver) {\n      const observer = new ResizeObserver(() => {\n        this.setState({ autosize: false });\n        observer.disconnect();\n      });\n\n      observer.observe(input);\n    } else {\n      this.setState({ canResize: false });\n    }\n  }\n\n  private parseItems(): Item[] {\n    if (!this.inputRef.current) {\n      return [];\n    }\n\n    return this.inputRef.current.value\n      .split('\\n')\n      .filter(i => i.trim().length)\n      .map(line => {\n        const [_, required, text, weight] = itemRegex.exec(line)!;\n        return {\n          text,\n          weight: !weight ? undefined : parseInt(weight),\n          required: required !== undefined ? !!required : undefined\n        };\n      });\n  }\n\n  private updateItems(): void {\n    clearTimeout(this.saveTimeout);\n    const items = this.validate();\n    if (items) {\n      this.context.updateItems(items);\n      this.setState({ saved: true, error: null });\n    }\n  }\n\n  private validate(): Item[] | null {\n    const items = this.parseItems();\n    for (let i = 0; i < items.length - 1; i++) {\n      for (let j = i + 1; j < items.length; j++) {\n        if (items[i].text === items[j].text) {\n          this.setState({\n            saved: false,\n            error: `Duplicate item: ${items[i].text}`,\n          });\n          return null;\n        }\n      }\n    }\n\n    return items;\n  }\n\n  private onChange(event: ChangeEvent<HTMLTextAreaElement>): void {\n    clearTimeout(this.saveTimeout);\n    const input = event.target,\n      items = this.validate(),\n      nextState: Partial<State> = {\n        text: input.value,\n      };\n\n    if (items) {\n      this.saveTimeout = window.setTimeout(() => this.updateItems(), 3000);\n      nextState.saved = false;\n      nextState.error = null;\n    }\n\n    this.setState(nextState as State);\n\n    if (this.state.autosize) {\n      const offset = input.offsetHeight - input.clientHeight;\n      input.style.height = 'auto'; // allow resizing to be smaller\n      input.style.height = input.scrollHeight + offset + 'px';\n    }\n\n    this.props.onChange && this.props.onChange(event);\n  }\n\n  private stringifyItems(): string {\n    if (!this.context || !this.context.items) {\n      return '';\n    }\n\n    return this.context.items\n      .map(i => {\n        let text = i.required ? '* ' : '';\n        text += i.text;\n        if (i.weight) {\n          text += ' | ' + i.weight;\n        }\n\n        return text;\n      }).join('\\n');\n  }\n\n  render() {\n    const {\n        saved,\n        error,\n        canResize,\n      } = this.state,\n      messageStyle = {\n        height: 0,\n        color:\n          saved ? 'green' :\n          error ? 'red' :\n          'inherit'\n      };\n\n    return <>\n      <textarea value={this.state.text} onBlur={this.updateItems.bind(this)} ref={this.inputRef}\n        onChange={this.onChange.bind(this)} className=\"form-control\"\n        style={{ minHeight: '25vh', resize: canResize ? 'vertical' : 'none' }} />\n      <div className=\"pt-1\" style={messageStyle}>{saved ? `Items saved` : error}</div>\n    </>;\n  }\n\n  static contextType = Context;\n}","import React, { PureComponent } from 'react';\nimport { Redirect, withRouter } from 'react-router';\nimport { History } from 'history';\nimport BackToItemEntry from '../components/back-to-item-entry';\nimport OptionPromptButtons from '../components/option-prompt-buttons';\nimport ProgressBar from '../components/progress-bar';\nimport Context, { Algorithm } from '../context';\nimport BinaryInsertionSort from '../sorters/binary-insertion-sort';\nimport InsertionSort from '../sorters/insertion-sort';\nimport Quicksort from '../sorters/quicksort';\nimport Sorter, { Progress } from '../sorters/sorter';\nimport { Item, Prompt } from '../types';\nimport RedirectIfNoItems from './redirect-if-no-items';\n\ninterface Props {\n  history?: History;\n}\n\ninterface State {\n  prompt?: Prompt;\n  promptCount: number;\n  progress: Progress<Item | number>;\n  lastLeftItem?: Item;\n}\n\nclass Sort extends PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.triggerPromptUser = this.triggerPromptUser.bind(this);\n    this.updateProgress = this.updateProgress.bind(this);\n    this.onKeyPress = this.onKeyPress.bind(this);\n    this.cancel = this.cancel.bind(this);\n  }\n\n  context!: CT;\n\n  state: State = {\n    promptCount: 0,\n    progress: 0,\n  };\n\n  sorter!: Sorter<any>;\n  algorithmName!: string;\n  readonly bodyElement = document.getElementsByTagName('body')[0];\n\n  async componentDidMount() {\n    const {\n      algorithm,\n      items\n    } = this.context;\n\n    switch (algorithm) {\n      case Algorithm.quicksort:\n        this.sorter = new Quicksort(items, this.triggerPromptUser, this.updateProgress);\n        this.algorithmName = 'Quicksort';\n        break;\n\n      case Algorithm.binaryInsertion:\n        this.sorter = new BinaryInsertionSort(items, this.triggerPromptUser, this.updateProgress);\n        this.algorithmName = 'Binary Insertion Sort';\n        break;\n\n      case Algorithm.insertionSort:\n        this.sorter = new InsertionSort(items, this.triggerPromptUser, this.updateProgress);\n        this.algorithmName = 'Insertion Sort';\n        break;\n    }\n\n    if (this.sorter) {\n      this.sorter.run().then(() => this.props.history!.replace('/results'));\n    }\n\n    window.addEventListener('keypress', this.onKeyPress);\n    window.addEventListener('beforeunload', this.cancel);\n    window.addEventListener('popstate', this.cancel);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keypress', this.onKeyPress);\n    window.removeEventListener('beforeunload', this.cancel);\n    window.removeEventListener('popstate', this.cancel);\n  }\n\n  private cancel() {\n    if (this.sorter) {\n      this.sorter.cancel();\n    }\n  }\n\n  private flash() {\n    this.bodyElement.classList.remove('flash');\n    setImmediate(() => this.bodyElement.classList.add('flash'));\n  }\n\n  private updateProgress(progress: Progress<number | Item>): void {\n    if (Array.isArray(progress)) {\n      this.setState({ progress: progress.slice() });\n    } else {\n      this.setState({ progress });\n    }\n  }\n\n  private triggerPromptUser(prompt: Prompt) {\n    if (this.state.lastLeftItem && this.state.lastLeftItem !== prompt.item1) {\n      this.flash();\n    }\n\n    this.setState({\n      lastLeftItem: prompt.item3 ? undefined : prompt.item1,\n      prompt,\n      promptCount: this.state.promptCount + 1,\n    });\n\n    this.context.updateItems(this.context.items);\n  }\n\n  private onKeyPress(e: KeyboardEvent) {\n    const prompt = this.state.prompt;\n    if (!prompt) {\n      return;\n    }\n\n    switch (e.key) {\n      case 'a':\n        prompt.resolve(prompt.item1);\n        break;\n\n      case 'h':\n        if (!prompt.item3) {\n          break;\n        }\n\n        prompt.resolve(prompt.item2);\n        break;\n\n      case 'l':\n        if (prompt.item3) {\n          prompt.resolve(prompt.item3);\n          break;\n        }\n\n        prompt.resolve(prompt.item2);\n        break;\n    }\n  }\n\n  render() {\n    if (!this.context.algorithm) {\n      return <Redirect to=\"/algorithm\" />;\n    }\n\n    if (!this.state.prompt) {\n      return <div />;\n    }\n\n    const i3 = this.state.prompt.item3;\n\n    return <RedirectIfNoItems>\n      <h1 className=\"display-1\">Sort</h1>\n      <h4>{this.algorithmName}</h4>\n      <div className=\"d-flex flex-column\">\n        <h2 className=\"text-center mb-3 mt-4\">\n          {\n            i3 ?\n              <>Which item is the <b className=\"text-primary\"><i>second</i></b> most important?</> :\n              this.context.question || <>Which item is <span className=\"text-primary\">more important</span>?</>\n          }\n        </h2>\n        <h4>Question #{this.state.promptCount}</h4>\n        <OptionPromptButtons prompt={this.state.prompt} />\n        {\n          this.sorter instanceof Quicksort ?\n            <ProgressBar progress={this.state.progress as Progress<Item>} /> :\n            <ProgressBar progress={this.state.progress as number} max={this.context.items.length} />\n        }\n        {\n          i3 && <span className=\"text-info mt-2\">\n            This question has no bearing on the final result, but answering it correctly can reduce the length of the\n            quiz by up to 15% or more on your car insurance.  For real, though, it'll cut out a good 5-15% of the\n            questions.\n          </span>\n        }\n        <p className=\"mt-2 mb-1 d-none d-sm-inline\">\n          <b>Tip:</b>{' '}\n          {\n            i3 ?\n              <>\n                You can press <kbd>a</kbd> to select the left item, <kbd>h</kbd> to select the middle item, and{' '}\n                <kbd>l</kbd> to select the right item.\n              </> :\n              <>\n                You can press <kbd>a</kbd> to select the left item and <kbd>l</kbd> to select the right item.\n              </>\n          }\n        </p>\n        <p><b>Tip:</b> The screen will flash <span className=\"text-success\">green</span> when the left item changes.</p>\n        <BackToItemEntry className=\"align-self-start mt-2\" onClick={this.cancel} />\n        <h4 className=\"mt-3\">Progress Information</h4>\n        {\n          this.context.algorithm === Algorithm.quicksort ?\n            <>\n              The Quicksort progress bar will fill up slowly at first and then much quicker toward the end.  The first\n              progress bar increase will be after {this.context.items.length - 1} questions.  About midway through and\n              right at the end, the progress bar will fill several segments at a time.  This is just the nature of\n              Quicksort.  It may not feel like it, but you are making progress.\n            </> :\n            <>\n              The {this.algorithmName} progress bar will fill up quickly at first and slower toward the end.  The way\n              the algorithm works, it builds an increasingly long sorted list at the front of the list, progressively\n              adding items into the correct place.  This is why the progress bar starts at{' '}\n              {Math.round(100 / this.context.items.length)}%--the first item is a sorted list of 1 length.  As the\n              sorted portion of the list increases, it requires more questions to figure out where later items belong.\n            </>\n        }\n      </div>\n    </RedirectIfNoItems>;\n  }\n\n  static contextType = Context;\n}\n\n// @ts-ignore\nexport default withRouter(Sort);","import React, { FC } from 'react';\nimport { Button, Col, Row } from 'reactstrap';\nimport { Item, Prompt } from '../types';\n\nconst OptionPromptButtons: FC<{ prompt: Prompt }> = ({ prompt }) => {\n    const {\n      resolve,\n      item1: opt1,\n      item2: opt2,\n      item3: opt3,\n    } = prompt;\n\n    const OptBtn: FC<{ opt: Item }> = ({ opt }) =>\n      <Col xs={12} md={opt3 ? 12 : 6} lg={opt3 ? 4 : 6} className=\"align-self-stretch mb-2\">\n        <Button onClick={() => resolve(opt)} className=\"w-100 border h-100\" color=\"light\"\n            style={{minHeight: 100, fontSize: 40}}>\n          {opt.text}\n        </Button>\n      </Col>;\n\n    return <Row className=\"align-items-stretch\">\n      <OptBtn opt={opt1} />\n      <OptBtn opt={opt2} />\n      {opt3 && <OptBtn opt={opt3} />}\n    </Row>;\n}\n\nexport default OptionPromptButtons;","import { Item, itemsEqual } from '../types';\nimport Sorter, { TriggerPrompt, UpdateProgress } from './sorter';\n\nexport default class BinaryInsertionSort extends Sorter<number> {\n  constructor(items: Item[], triggerPrompt: TriggerPrompt, updateProgress?: UpdateProgress<number>) {\n    super(items, triggerPrompt, 1, updateProgress);\n  }\n\n  private curItem: Item | null = null;\n  private curIdx: number = -1;\n\n  async run() {\n    const items = this.items;\n    for (let i = 1; i < items.length; i++) {\n      if (this.updateProgress) {\n        this.updateProgress(this.progress);\n      }\n\n      this.curIdx = i;\n      const item = this.curItem = items.splice(i, 1)[0],\n        idx = await this.binarySearch(item, 0, i);\n\n      items.splice(idx, 0, item);\n      this.progress = i;\n    }\n  }\n\n  cancel() {\n    if (this.curItem) {\n      this.items.splice(this.curIdx, 0, this.curItem);\n    }\n  }\n\n  async binarySearch(item: Item, min: number, max: number): Promise<number> {\n    if (min >= max) {\n      return min;\n    }\n\n    const idx = Math.floor((max - min) / 2 + min),\n      sortedItem = this.items[idx];\n\n    if (item.required) {\n      if (!sortedItem.required) {\n        return this.binarySearch(item, min, idx);\n      } else {\n        return idx;\n      }\n    } else if (sortedItem.required) {\n      return this.binarySearch(item, idx + 1, max);\n    }\n\n    const [promise, prompt] = Sorter.createPrompt(item, sortedItem);\n    this.triggerPrompt(prompt);\n    const result = await promise;\n\n    if (itemsEqual(result, item)) {\n      return this.binarySearch(item, min, idx);\n    } else {\n      return this.binarySearch(item, idx + 1, max);\n    }\n  }\n}","import { Item, itemsEqual } from '../types';\nimport Sorter, { TriggerPrompt, UpdateProgress } from './sorter';\n\nexport default class InsertionSort extends Sorter<number> {\n  constructor(items: Item[], triggerPrompt: TriggerPrompt, updateProgress?: UpdateProgress<number>) {\n    super(items, triggerPrompt, 1, updateProgress);\n  }\n\n  async run() {\n    const items = this.items;\n    for (let i = 1; i < items.length; i++) {\n      if (this.updateProgress) {\n        this.updateProgress(this.progress);\n      }\n\n      const item = items[i];\n\n      let j = i - 1;\n      for (; j >= 0; j--) {\n        const sortedItem = items[j];\n\n        if (item.required) {\n          if (!sortedItem.required) {\n            this.swap(j + 1, j);\n            continue;\n          } else {\n            break;\n          }\n        } else if (sortedItem.required) {\n          break;\n        }\n\n        const [promise, prompt] = Sorter.createPrompt(item, sortedItem);\n        this.triggerPrompt(prompt);\n        const result = await promise;\n\n        if (itemsEqual(result, item)) {\n          this.swap(j + 1, j);\n        } else {\n          break;\n        }\n      }\n\n      this.progress = i + 1;\n    }\n  }\n\n  cancel() {\n    // pass\n  }\n}","import React from 'react';\nimport { Item } from './types';\n\nexport enum StorageKeys {\n  items = 'items',\n  question = 'question',\n}\n\nexport enum Algorithm {\n  quicksort = 'qs',\n  binaryInsertion = 'binIns',\n  insertionSort = 'ins'\n}\n\nexport interface AppContext {\n  items: Item[];\n  updateItems(items: Item[]): void;\n\n  algorithm: Algorithm | null;\n  setAlgorithm(algoirthm: Algorithm | null): void;\n\n  question: string;\n  setQuestion(question: string): void;\n}\n\nconst Context = React.createContext<AppContext>({\n  items: [],\n  updateItems: () => {},\n  algorithm: null,\n  setAlgorithm: () => {},\n  question: '',\n  setQuestion: () => {},\n});\n\nexport default Context;","import React, { FC } from 'react';\nimport { Navbar } from 'reactstrap';\nimport './footer.scss';\n\nconst Footer: FC = () =>\n  <Navbar fixed=\"bottom\" color=\"light\" className=\"d-none d-md-flex footer-nav\">\n    <div className=\"container justify-content-between\">\n      <a href=\"https://github.com/dfoverdx/subjective-sorter\">Source Code</a>\n      <span><a href=\"https://dfdx.us/\">Haley Hitch</a> © 2019</span>\n    </div>\n  </Navbar>;\n\nexport default Footer;","import React, { FC, PureComponent, ReactNode } from 'react';\nimport { Link } from 'react-router-dom';\nimport ReactifyMarkdown from 'reactify-markdown';\nimport { Card, CardBody, CardDeck, CardHeader, CardTitle } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAngleRight } from '@fortawesome/free-solid-svg-icons';\nimport BackToItemEntry from '../components/back-to-item-entry';\nimport Context, { Algorithm } from '../context';\nimport './algorithm-select.scss';\nimport RedirectIfNoItems from './redirect-if-no-items';\n\nexport default class AlgorithmSelect extends PureComponent {\n  context!: CT;\n\n  onSelection(algorithm: Algorithm) {\n    this.context.setAlgorithm(algorithm);\n  }\n\n  render() {\n    const AlgCard: FC<{\n      algorithm: Algorithm,\n      url: string,\n      name: string,\n      pros: ReactNode[],\n      cons: ReactNode[],\n      color?: string,\n      inverse?: boolean,\n    }> =\n      ({ algorithm: alg, url, name, pros, cons, color, inverse }) =>\n        <Card color={color || 'light'} inverse={inverse}>\n          <CardHeader><CardTitle><h4>{name}</h4></CardTitle></CardHeader>\n          <CardBody className=\"d-flex flex-column\">\n            Pros:\n            <ul>\n              {pros.map((text, i) => <li key={i}>{text}</li>)}\n            </ul>\n            Cons:\n            <ul>\n              {cons.map((text, i) => <li key={i}>{text}</li>)}\n            </ul>\n            <div className=\"text-center mt-auto\">\n              <Link to={`/sort/${url}`} onClick={this.onSelection.bind(this, alg)} className=\"btn btn-primary btn-lg\">\n                Select <FontAwesomeIcon icon={faAngleRight} size=\"lg\" />\n              </Link>\n            </div>\n          </CardBody>\n        </Card>;\n\n    return <RedirectIfNoItems>\n      <ReactifyMarkdown>{`\n        Select Algorithm\n        ================\n\n        Here you select which method we'll use for sorting your list.  Ultimately, all three methods will produce the\n        same results.  The difference is only in how long the \"quiz\" will be.\n      `}</ReactifyMarkdown>\n      <CardDeck className=\"my-auto\">\n        <AlgCard\n          algorithm={Algorithm.quicksort}\n          url=\"quicksort\"\n          name=\"Quicksort\"\n          pros={[\n            'Fewer context switches--questions are faster to answer',\n            // 'Can stop early if you specify a maximum number of items',\n          ]}\n          cons={[\n            'Slightly more questions than Binary Insertion Sort',\n            <><b>Longest possible</b> quiz if list is already mostly sorted</>,\n          ]}\n         />\n        <div className=\"w-100 d-lg-none\" />\n        <AlgCard\n          algorithm={Algorithm.binaryInsertion}\n          url=\"binary-insertion-sort\"\n          name=\"Binary Insertion Sort\"\n          pros={[\n            'Fewest questions for well-shuffled lists',\n            'Roughly the same number of questions no matter how sorted or unsorted the list is',\n          ]}\n          cons={[\n            'More context switches--questions are a little slower to answer',\n            // <><b>Cannot</b> stop early if you specify a maximum number of items</>,\n          ]}\n         />\n        <div className=\"w-100 d-xl-none\" />\n        <div className=\"w-100 d-lg-none\" />\n        <AlgCard\n          algorithm={Algorithm.insertionSort}\n          url=\"insertion-sort\"\n          name=\"Insertion Sort\"\n          color=\"secondary\"\n          inverse\n          pros={[\n            <><b>Fewest questions by far</b> for mostly-ordered lists</>,\n            'Fewer context switches than Binary Insertion Sort--questions are quicker to answer',\n            // 'Can stop early if you specify a maximum number of items',\n          ]}\n          cons={[\n            'More context switches than Quicksort--questions are slower to answer',\n            <>\n              <b>Significantly</b> more questions than Binary Insertion Sort or Quicksort if list is not already mostly\n              ordered\n            </>,\n          ]}\n         />\n        <div className=\"w-50 d-none d-lg-flex d-xl-none\" />\n      </CardDeck>\n\n      <BackToItemEntry className=\"mb-3\" />\n\n      <ReactifyMarkdown>{`\n        #### Information ####\n\n        If your list is more or less ordered already, such as when you sort it and then go back to add a couple items,\n        select *Insertion Sort*.  If the list is already completely sorted, [Insertion Sort](https://en.wikipedia.org/wiki/Insertion_sort)\n        will have the absolute minimum number of questions (\\`number of items - 1\\`).\n\n        If your list is not sorted, choose either *Quicksort* or *Binary Insertion Sort*.  Both sorting methods take\n        about the same amount of time.  If you're good at switching contexts in your head, choose\n        [Binary Insertion Sort](https://en.wikipedia.org/wiki/Insertion_sort#Variants), otherwise, choose [Quicksort](https://en.wikipedia.org/wiki/Quicksort).\n\n        Your list will be reordered as you answer questions, so if you need to return to item entry in the middle of the\n        quiz, you will not lose your progress.\n      `}</ReactifyMarkdown>\n    </RedirectIfNoItems>;\n  }\n\n  static contextType = Context;\n}","import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAngleRight } from '@fortawesome/free-solid-svg-icons';\nimport ReactFitText from '@kennethormandy/react-fittext';\n\nconst Home: FC = () =>\n  <div className=\"d-flex flex-column w-100 h-100\">\n    <div className=\"w-100 text-center\" style={{ marginTop: '20%', marginBottom: '20%' }}>\n      <ReactFitText compressor={.745} minFontSize={65}>Subjective Sorter</ReactFitText>\n    </div>\n    <p>\n      Sometimes it is helpful to order things from most important to least important.  For example, maybe you need to\n      figure out who to invite to your wedding, and you can only invite so many people.  Or maybe you want to determine\n      what your <a href=\"https://dfdx.us/core-values-quiz\">core values</a> are.  Maybe you just need to figure out who\n      your favorite Backstreet Boy is, idk!\n    </p>\n    <p>\n      The Subjective Sorter allows you to efficiently order your list of items given subjective criteria.  Input your\n      data and the tool will generate a \"quiz\", presenting you with two options per question.  Choose which is the more\n      important option, and the tool will handle the rest.\n    </p>\n    <Link to=\"/item-entry\" className=\"align-self-end btn btn-primary btn-lg mt-auto\">\n      Get Started <FontAwesomeIcon icon={faAngleRight} size=\"lg\" />\n    </Link>\n  </div>;\n\nexport default Home;","import React, { FC } from 'react';\nimport { Input } from 'reactstrap';\n\nconst QuestionInput: FC<React.InputHTMLAttributes<HTMLInputElement>> = ({ className, ...props }) =>\n  <>\n    <h5 className={className}>\n      Ask yourself a question to help compare items, such as <i>Who would you rather have at your wedding?</i>\n    </h5>\n    <Input {...props} type=\"text\" placeholder=\"(Optional)\" />\n  </>;\n\nexport default QuestionInput;","import React, { ChangeEvent, PureComponent } from 'react';\nimport { Link } from 'react-router-dom';\nimport ReactifyMarkdown from 'reactify-markdown';\nimport { Button, Card, CardBody, CardDeck, CardHeader, CardTitle } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAngleRight } from '@fortawesome/free-solid-svg-icons';\nimport ItemInput from '../components/item-input';\nimport QuestionInput from '../components/question-input';\nimport Context from '../context';\nimport './item-entry.scss';\n\ninterface State {\n  hasItems: boolean;\n}\n\nexport default class DataEntry extends PureComponent<{}, State> {\n  context!: CT;\n  state = { hasItems: false };\n\n  componentDidMount() {\n    this.context.setAlgorithm(null);\n    this.setState({ hasItems: this.context.items.length > 2 });\n  }\n\n  onInputChange(e: ChangeEvent<HTMLTextAreaElement>) {\n    this.setState({ hasItems: e.target.value.split('\\n').filter(l => l.trim().length).length > 2 });\n  }\n\n  onQuestionChange(e: ChangeEvent<HTMLInputElement>) {\n    this.context.setQuestion(e.target.value);\n  }\n\n  render() {\n    return <>\n      <h1 className=\"display-1\">Item Entry</h1>\n      <ReactifyMarkdown>{`\n        Enter the items you wish to sort.  Each line represents one item.\n\n        If an item is *required*, prepend a \\`*\\` to it.  If a line represents multiple items (i.e. has a *weight*)\n        append \\`| <weight>\\` to it, where \\`<weight>\\` is the number of items the line represents.  See the examples\n        below for more details.\n\n        Your entries will be saved automatically.\n      `}</ReactifyMarkdown>\n      <ItemInput onChange={this.onInputChange.bind(this)} />\n      <QuestionInput className=\"mt-4\" onChange={this.onQuestionChange.bind(this)} value={this.context.question} />\n      <div className=\"d-flex flex-row justify-content-end my-2\">\n        <Link to=\"/algorithm\">\n          <Button color=\"primary\" disabled={!this.state.hasItems} className=\"ml-auto\" size=\"lg\">\n            Sort Entries <FontAwesomeIcon icon={faAngleRight} size=\"lg\" />\n          </Button>\n        </Link>\n      </div>\n      <CardDeck className=\"mt-1\">\n        <Card color=\"light\" id=\"examples\">\n          <CardHeader><CardTitle><h3>Examples</h3></CardTitle></CardHeader>\n          <CardBody>\n            <ReactifyMarkdown>{`\n              **Single entries**\n              \\`\\`\\`\n              Anna\n              Bob\n              \\`\\`\\`\n\n              **Required single entries**\n              \\`\\`\\`\n              * Candice\n              * Derek\n              \\`\\`\\`\n\n              **Weighted entries**\n              \\`\\`\\`\n              The Smiths | 4\n              Edna + 1 | 2\n              \\`\\`\\`\n\n              **Required weighted entries**\n              \\`\\`\\`\n              * The Jones | 3\n              * Fred and Gwen + 1 | 3\n              \\`\\`\\`\n            `}</ReactifyMarkdown>\n          </CardBody>\n        </Card>\n        <div className=\"w-100 d-md-none\" />\n        <Card color=\"light\">\n          <CardHeader><CardTitle><h3>Tips</h3></CardTitle></CardHeader>\n          <CardBody>\n            <ReactifyMarkdown>{`\n              Entries marked required will not require any questions on the quiz.  This will *dramatically* reduce the\n              length of the quiz.\n\n              Required items are not ordered amongst other required items.\n\n              If you have already sorted your list and add new items, don't add them to the start; add them \"near\"\n              where they need to be or to the end of the list.  Then select *Insertion Sort* on the next step.\n\n              If you make a mistake during the sorting quiz, finish the quiz and then do the quiz again with the\n              *Insertion Sort* method.  This quiz will be (relatively) very short.\n            `}</ReactifyMarkdown>\n          </CardBody>\n        </Card>\n      </CardDeck>\n    </>;\n  }\n\n  static contextType = Context;\n}","import React, { ContextType, PureComponent } from 'react';\nimport { ListGroup, ListGroupItem } from 'reactstrap';\nimport BackToItemEntry from '../components/back-to-item-entry';\nimport Context from '../context';\nimport RedirectIfNoItems from './redirect-if-no-items';\n\nexport default class Results extends PureComponent {\n  context!: ContextType<typeof Context>;\n\n  render() {\n    return <RedirectIfNoItems redirectIfNoAlg>\n      <h1 className=\"display-1\">Results</h1>\n      <ListGroup>\n        {this.context.items.map((item, i) =>\n          <ListGroupItem key={item.text}>{item.text}</ListGroupItem>)\n        }\n      </ListGroup>\n      <BackToItemEntry className=\"mt-3\" />\n    </RedirectIfNoItems>;\n  }\n\n  static contextType = Context;\n}","import React, { FC } from 'react';\nimport { HashRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport AlgorithmSelect from './algorithm-select';\nimport Home from './home';\nimport ItemEntry from './item-entry';\nimport Results from './results';\nimport Sort from './sort';\n\nconst Stages: FC = () =>\n  <HashRouter>\n    <Switch>\n      <Route exact path=\"/\"><Home /></Route>\n      <Route path=\"/item-entry\"><ItemEntry /></Route>\n      <Route path=\"/algorithm\"><AlgorithmSelect /></Route>\n      <Route path=\"/sort\"><Sort /></Route>\n      <Route path=\"/results\"><Results /></Route>\n      <Route path=\"*\"><Redirect to=\"/item-entry\" /></Route>\n    </Switch>\n  </HashRouter>;\n\nexport default Stages;","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './App.scss';\nimport Footer from './components/footer';\nimport Context, { Algorithm, AppContext, StorageKeys } from './context';\nimport Stages from './stages';\nimport { Item } from './types';\n\ninterface State extends AppContext {}\n\nclass App extends React.PureComponent<{}, State> {\n  constructor(props: {}) {\n    super(props);\n\n    this.state = {\n      items: this.getItemsFromStorage(),\n      updateItems: this.updateItems.bind(this),\n      algorithm: null,\n      setAlgorithm: this.setAlgorithm.bind(this),\n      question: localStorage.getItem(StorageKeys.question) || '',\n      setQuestion: this.setQuestion.bind(this),\n    };\n  }\n\n  private getItemsFromStorage(): Item[] {\n    const data = localStorage.getItem(StorageKeys.items);\n    if (!data) {\n      return [];\n    }\n\n    return JSON.parse(data);\n  }\n\n  private updateItems(items: Item[]) {\n    localStorage.setItem(StorageKeys.items, JSON.stringify(items));\n    this.setState({ items });\n  }\n\n  private setAlgorithm(algorithm: Algorithm | null) {\n    this.setState({ algorithm });\n  }\n\n  private setQuestion(question: string) {\n    localStorage.setItem(StorageKeys.question, question);\n    this.setState({ question });\n  }\n\n  render() {\n    return (\n      <div className=\"App container\">\n        <div className=\"inner-container py-2\">\n          <Context.Provider value={this.state}>\n            <Stages />\n          </Context.Provider>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport './types';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}